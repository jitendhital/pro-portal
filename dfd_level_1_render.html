<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DFD Level 1 - HomeHive</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }

        .mermaid {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>
    <div class="mermaid">
        graph LR
        %% Entities
        Seeker[Property Seeker]
        Lister[Property Lister]

        %% Processes
        P1((1.0<br />User<br />Authentication))
        P2((2.0<br />Listing<br />Management))
        P3((3.0<br />Recommendation<br />Engine))
        P4((4.0<br />Booking &<br />BBQ Pricing))

        %% Data Stores
        DB_Users[("Users DB")]
        DB_Listings[("Listings DB")]
        DB_Bookings[("Bookings DB")]

        %% Flows from Seeker (Left Side)
        Seeker -->|Login Request| P1
        Seeker -->|Search Criteria| P3
        Seeker -->|Booking Request| P4
        P3 -.->|Personalized<br />Recommendations| Seeker
        P4 -->|Booking<br />Confirmation| Seeker

        %% Flows from Lister (Right Side - NEW)
        Lister -->|Login Request| P1
        Lister -->|Listing Details<br />& Updates| P2
        Lister -->|Pricing Rules<br />& BBQ Rates| P2
        Lister -->|Confirmation| P4
        P4 -->|Booking<br />Notification| Lister

        %% Database Interactions
        P1 <-->|User Data &<br />Validation| DB_Users

            P2 -->|Update<br />Information| DB_Listings
            DB_Listings -->|Current<br />Details| P2

            DB_Listings -->|Available<br />Properties| P3
            DB_Users -->|User<br />Preferences| P3

            P4 -->|Booking Info| DB_Bookings
            P4 -->|Save/Update<br />Booking| DB_Bookings
            DB_Listings -->|Rates &<br />Availability| P4

            %% Styling
            classDef process fill:#fff,stroke:#000,stroke-width:2px;
            classDef store fill:#fff,stroke:#000,stroke-width:2px,shape:cylinder;
            classDef entity fill:#fff,stroke:#000,stroke-width:2px,shape:rect;

            class P1,P2,P3,P4 process;
            class DB_Users,DB_Listings,DB_Bookings store;
            class Seeker,Lister entity;
    </div>
</body>

</html>